@using CustomEditingApp.Models
@model IEnumerable<Product>
 
@addTagHelper *, Kendo.Mvc
 
<h2>Products</h2>
 
<kendo-grid name="grid" id="RadGrid1">
    <editable mode="incell" />
    <columns>
        <column field="ProductID" title="Product ID" />
        <column field="ProductName" title="Product Name" />
        <column field="UnitPrice" title="Unit Price" />
        <column field="UnitsInStock" title="Units In Stock" />
    </columns>
    <datasource type="DataSourceTagHelperType.Ajax" batch="true"
                on-error="errorHandler">
        <transport>
            <read url="@Url.Action("ProductsRead", "Products")" />
            <update url="@Url.Action("UpdateProduct", "Products")" />
        </transport>
        <schema data="Data">
            <model id="ProductID">
                <fields>
                    <field name="ProductID" type="number" editable="false" />
                    <field name="ProductName" type="string" />
                    <field name="UnitPrice" type="number" />
                    <field name="UnitsInStock" type="number" />
                </fields>
            </model>
        </schema>
    </datasource>
</kendo-grid>
 

<script>
    $(document).ready(function () {
        var grid = $("#RadGrid1").data("kendoGrid");

        grid.table.on("dblclick", "tr", function (e) {
            grid.editRow($(this));
        });

        grid.table.on("focusout", "input", function () {
            setTimeout(function () {
                grid.saveChanges();
            }, 10);
        });
    });

    function errorHandler(e) {
        alert('An error occurred while processing your request: ' + e.errors);
    }
</script>